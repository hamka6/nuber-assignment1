"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.eventStreamHandlingMiddlewareOptions = exports.eventStreamHandlingMiddleware = void 0;
const protocol_http_1 = require("@aws-sdk/protocol-http");
const eventStreamHandlingMiddleware = (options) => (next, context) => async (args) => {
    const { request } = args;
    if (!protocol_http_1.HttpRequest.isInstance(request))
        return next(args);
    return options.eventStreamPayloadHandler.handle(next, args, context);
};
exports.eventStreamHandlingMiddleware = eventStreamHandlingMiddleware;
exports.eventStreamHandlingMiddlewareOptions = {
    tags: ["EVENT_STREAM", "SIGNATURE", "HANDLE"],
    name: "eventStreamHandlingMiddleware",
    relation: "after",
    toMiddleware: "awsAuthMiddleware",
    override: true,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxpbmctbWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oYW5kbGluZy1taWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDBEQUFxRDtBQUs5QyxNQUFNLDZCQUE2QixHQUN4QyxDQUFDLE9BQWtDLEVBQXVDLEVBQUUsQ0FDNUUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbEIsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ2IsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQztJQUN6QixJQUFJLENBQUMsMkJBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDO1FBQUUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEQsT0FBTyxPQUFPLENBQUMseUJBQXlCLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDdkUsQ0FBQyxDQUFDO0FBUFMsUUFBQSw2QkFBNkIsaUNBT3RDO0FBRVMsUUFBQSxvQ0FBb0MsR0FBOEI7SUFDN0UsSUFBSSxFQUFFLENBQUMsY0FBYyxFQUFFLFdBQVcsRUFBRSxRQUFRLENBQUM7SUFDN0MsSUFBSSxFQUFFLCtCQUErQjtJQUNyQyxRQUFRLEVBQUUsT0FBTztJQUNqQixZQUFZLEVBQUUsbUJBQW1CO0lBQ2pDLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IEZpbmFsaXplUmVxdWVzdE1pZGRsZXdhcmUsIFJlbGF0aXZlTWlkZGxld2FyZU9wdGlvbnMgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgRXZlbnRTdHJlYW1SZXNvbHZlZENvbmZpZyB9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25cIjtcblxuZXhwb3J0IGNvbnN0IGV2ZW50U3RyZWFtSGFuZGxpbmdNaWRkbGV3YXJlID1cbiAgKG9wdGlvbnM6IEV2ZW50U3RyZWFtUmVzb2x2ZWRDb25maWcpOiBGaW5hbGl6ZVJlcXVlc3RNaWRkbGV3YXJlPGFueSwgYW55PiA9PlxuICAobmV4dCwgY29udGV4dCkgPT5cbiAgYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpKSByZXR1cm4gbmV4dChhcmdzKTtcbiAgICByZXR1cm4gb3B0aW9ucy5ldmVudFN0cmVhbVBheWxvYWRIYW5kbGVyLmhhbmRsZShuZXh0LCBhcmdzLCBjb250ZXh0KTtcbiAgfTtcblxuZXhwb3J0IGNvbnN0IGV2ZW50U3RyZWFtSGFuZGxpbmdNaWRkbGV3YXJlT3B0aW9uczogUmVsYXRpdmVNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgdGFnczogW1wiRVZFTlRfU1RSRUFNXCIsIFwiU0lHTkFUVVJFXCIsIFwiSEFORExFXCJdLFxuICBuYW1lOiBcImV2ZW50U3RyZWFtSGFuZGxpbmdNaWRkbGV3YXJlXCIsXG4gIHJlbGF0aW9uOiBcImFmdGVyXCIsXG4gIHRvTWlkZGxld2FyZTogXCJhd3NBdXRoTWlkZGxld2FyZVwiLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG4iXX0=